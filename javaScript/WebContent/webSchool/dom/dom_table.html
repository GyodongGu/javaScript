<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>

<body id="bdy">
    <input type="button" onclick="createTable()" value="Create Table"><br>
    firstName = <input type="text" id="firstName" name="firstName"><br>
    lastName = <input type="text" id="lastName" name="lastName"><br>
    salary = <input type="text" id="salary" name="salary"><br>
    <button id="btn">addRow</button><br>
    <button id="btn1">deleRow</button>

    <script>
        var btn = document.getElementById("btn");
        btn.addEventListener("click", addData);
        btn1.addEventListener("click",deleData);

        function deleData(){
            var tr = document.getElementsByTagName("tr");
            console.log(tr);
            var tab1 = document.getElementById("tb1");
            tab1.removeChild(tr[1]);
            
        }

        function addData() {

            var fName = document.getElementById("firstName").value;
            var lName = document.getElementById("lastName").value;
            var addsalary = document.getElementById("salary").value;
            console.log(fName, lName, addsalary);

            var tab = document.getElementById("tb1");

            // var newtr = document.createElement("tr");

            var newtd1 =document.createElement("td");
            var newval1 = document.createTextNode(fName);
            newtd1.appendChild(newval1);

            var newtd2 =document.createElement("td");
            var newval2 = document.createTextNode(lName);
            newtd2.appendChild(newval2);

            var newtd3 =document.createElement("td");
            var newval3 = document.createTextNode(addsalary);
            newtd3.appendChild(newval3);

            var newtd4 = document.createElement("button");
            var newval4 = document.createTextNode("delete");
            newtd4.appendChild(newval4);
            newtd4.addEventListener("click", delFunc);

            var rows = document.getElementsByTagName("tr");
            var rowId = rows.length;
            newtd4.setAttribute("id", rowId);

            var tr1 = document.createElement("tr");
            tr1.setAttribute("id","tr"+rowId);
            tr1.append(newtd1,newtd2,newtd3,newtd4);
            tr1.addEventListener("click",function(){console.log(this.getAttribute("id"))});
            tab.append(tr1);
            

            // newtr.append(newtd1,newtd2,newtd3, newtd4);

            // tab.append(newtr);

        }
        function delFunc(){
            console.log(this.parentNode.getAttribute("id"));
            var trId = document.getElementById(this.parentNode.getAttribute("id"));
            console.log(trId);
            trId.remove();
        }


        function createTable() {
            var $table = document.createElement("table");
            // $table.setAttribute({"id":"tbl", "border" : "1"});
            $table.setAttribute("id", "tb1");
            $table.setAttribute("border", "1");

            var th1 = document.createElement("th");
            var val1 = document.createTextNode("FirstName");
            th1.appendChild(val1);

            var th2 = document.createElement("th");
            var val2 = document.createTextNode("LastName");
            th2.appendChild(val2);

            var th3 = document.createElement("th");
            var val3 = document.createTextNode("Salary");
            th3.appendChild(val3);

            var tr = document.createElement("tr");
            tr.append(th1, th2, th3);
            $table.append(tr);



            var td1 = document.createElement("td");
            var tdVal1 = document.createTextNode("Scott");
            td1.appendChild(tdVal1);

            var td2 = document.createElement("td");
            var tdVal2 = document.createTextNode("Tiger");
            td2.appendChild(tdVal2);

            var td3 = document.createElement("td");
            var tdVal3 = document.createTextNode("5000");
            td3.appendChild(tdVal3);

            var td4 = document.createElement("button");
            var tdVal4 = document.createTextNode("delete");
            td4.appendChild(tdVal4);

            var tr1 = document.createElement("tr");
            tr1.append(td1, td2, td3, td4);
            $table.append(tr1);

            document.getElementById("bdy").append($table);
        }

    </script>

</body>

</html>